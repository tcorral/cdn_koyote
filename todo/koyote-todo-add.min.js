(function(b){function a(d,c,e){return(d.TodoAdd=e.mix({constructor:function(f){d.callMethod("Widget.constructor",this,[f,"todo-add"])},"@template":'<input type="text" class="todo-add" id="{{ id }}" value="" placeholder="New todo(s)..." />',"@render":function(){d.callMethod("Widget.render",this,[{type:this.type,id:this.id}])},"@domEvents":{keypress:function(g){var h=g.keyCode;switch(h){case 27:this.value="";this.blur();break;case 13:g.preventDefault();this.value=this.value.trim();var f=this.value.split(",").filter(function(i){return !!i.trim()});if(f.length){c.publish("todos","list:add",{todos:f})}this.value="";break;default:break}}}}))}if(typeof define!=="undefined"){define("koyote-todo-add",["koyote","koyote-bus","koyote-widget"],a)}else{a(b,b.Bus,b.Widget)}}(Koyote));