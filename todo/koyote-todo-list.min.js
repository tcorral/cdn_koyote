(function(b){function a(d,c,e){return(d.TodoList=e.mix({constructor:function(f){d.callMethod("Widget.constructor",this,[f,"todo-list"]);c.subscribe(this)},"@template":'<ul id="{{ id }}" />',"@render":function(){d.callMethod("Widget.render",this,[{type:this.type,id:this.id}])},"@addTodos":function(g){var f=this,h={todos:[]};g.forEach(function(j){var i=d.create("TodoItem",{text:j});f.add(i);h.todos.push({id:i.id,text:i.text,checked:i.checked})});this.render();c.publish("todos","todo:add",h)},"@events":{todos:{"list:restore":function(f){for(var h in f){if(f.hasOwnProperty(h)){var g=f[h];this.add(d.create("TodoItem",g))}}c.unsubscribeFrom("todos","list:restore",this)},"list:add":function(f){this.addTodos(f.todos)}}}}))}if(typeof define!=="undefined"){define("koyote-todo-list",["koyote","koyote-bus","koyote-widget"],a)}else{a(b,b.Bus,b.Widget)}}(Koyote));